<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks | QloApps Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="QloApps Developer Documentation">
    
    <link rel="preload" href="/assets/css/0.styles.47c1ac64.css" as="style"><link rel="preload" href="/assets/js/app.ad2c750c.js" as="script"><link rel="preload" href="/assets/js/2.f0358b9a.js" as="script"><link rel="preload" href="/assets/js/7.21340e8c.js" as="script"><link rel="prefetch" href="/assets/js/10.02b3a114.js"><link rel="prefetch" href="/assets/js/11.80a683c5.js"><link rel="prefetch" href="/assets/js/12.373cfbdc.js"><link rel="prefetch" href="/assets/js/13.7ef039f8.js"><link rel="prefetch" href="/assets/js/14.75921d65.js"><link rel="prefetch" href="/assets/js/15.fcfde218.js"><link rel="prefetch" href="/assets/js/16.45e73fd6.js"><link rel="prefetch" href="/assets/js/17.f45750f9.js"><link rel="prefetch" href="/assets/js/18.ea606da1.js"><link rel="prefetch" href="/assets/js/19.009b61c6.js"><link rel="prefetch" href="/assets/js/20.6c69199f.js"><link rel="prefetch" href="/assets/js/21.8a5ada75.js"><link rel="prefetch" href="/assets/js/22.4226f9a6.js"><link rel="prefetch" href="/assets/js/23.ff9ee00d.js"><link rel="prefetch" href="/assets/js/24.964fa48b.js"><link rel="prefetch" href="/assets/js/25.39e61c62.js"><link rel="prefetch" href="/assets/js/26.482996a1.js"><link rel="prefetch" href="/assets/js/27.9d0e226b.js"><link rel="prefetch" href="/assets/js/28.953b904a.js"><link rel="prefetch" href="/assets/js/29.5efdead9.js"><link rel="prefetch" href="/assets/js/3.26b96e8d.js"><link rel="prefetch" href="/assets/js/30.d6820829.js"><link rel="prefetch" href="/assets/js/31.84a839d7.js"><link rel="prefetch" href="/assets/js/32.51f1913f.js"><link rel="prefetch" href="/assets/js/33.fe897d8c.js"><link rel="prefetch" href="/assets/js/34.39232e14.js"><link rel="prefetch" href="/assets/js/35.0e84fdef.js"><link rel="prefetch" href="/assets/js/36.a3d448fb.js"><link rel="prefetch" href="/assets/js/4.7c961752.js"><link rel="prefetch" href="/assets/js/5.7b41b254.js"><link rel="prefetch" href="/assets/js/6.185fa510.js"><link rel="prefetch" href="/assets/js/8.f5a768c2.js"><link rel="prefetch" href="/assets/js/9.2314fe56.js">
    <link rel="stylesheet" href="/assets/css/0.styles.47c1ac64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="QloApps Documentation" class="logo"> <span class="site-name can-hide">QloApps Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://forums.qloapps.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://qloapps.com/addons/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/webkul/hotelcommerce" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to QloApps
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://forums.qloapps.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://qloapps.com/addons/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Extensions
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/webkul/hotelcommerce" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to QloApps
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/introduction/" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/architecture/" class="sidebar-heading clickable"><span>Architecture</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/development/" class="sidebar-heading clickable"><span>Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/database/" class="sidebar-heading clickable"><span>Database</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/helpers/" class="sidebar-heading clickable router-link-active open"><span>Helpers</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/helpers/email.html" class="sidebar-link">Email</a></li><li><a href="/helpers/hooks.html" aria-current="page" class="active sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/helpers/hooks.html#hooks-lists" class="sidebar-link">Hooks Lists</a></li><li class="sidebar-sub-header"><a href="/helpers/hooks.html#managing-hooks" class="sidebar-link">Managing Hooks</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/module_development/" class="sidebar-heading clickable"><span>Module Development</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/webservice/" class="sidebar-link">Webservice API</a></li><li><a href="/theme/" class="sidebar-link">Theme</a></li><li><a href="/testing/" class="sidebar-link">Testing</a></li><li><a href="/updation_migration/" class="sidebar-link">Updation &amp; Migration</a></li><li><a href="/contribute/" class="sidebar-link">Contribute</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h1> <h2 id="hooks-lists"><a href="#hooks-lists" class="header-anchor">#</a> Hooks Lists</h2> <p>We have two naming schemes in QloApps hooks</p> <ul><li>action: Any specific events that take place in QloApps will trigger this hook</li> <li>display: These hooks are responsible to display something whether on front-end or backend.</li></ul> <h3 id="front-office-hooks"><a href="#front-office-hooks" class="header-anchor">#</a> Front-office hooks</h3> <h4 id="home-page-and-general-site-pages"><a href="#home-page-and-general-site-pages" class="header-anchor">#</a> Home page and general site pages</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>displayTop</td> <td>Call this hook in the page's header</td> <td>N/A</td></tr> <tr><td>displayRightColumn</td> <td>Call this hook when loading the right column.</td> <td><code>array(</code> <br><code>'cart' =&gt; (object) Cart object</code> <br><code>);</code> <br>Note that the Cart object can also be retrieved from the current Context.</td></tr> <tr><td>displayLeftColumn</td> <td>Call this hook when loading the left column.</td> <td>N/A</td></tr> <tr><td>displayHome</td> <td>Call this hook at the center of the homepage.</td> <td>N/A</td></tr> <tr><td>displayHeader</td> <td>Call this hook within the HTML <head> tags. Ideal location for adding JavaScript and CSS files.</head></td> <td>N/A</td></tr> <tr><td>displayFooter</td> <td>Call this hook in the page's footer.</td> <td>N/A</td></tr></tbody></table> <h4 id="product-page-or-room-type-page"><a href="#product-page-or-room-type-page" class="header-anchor">#</a> Product page Or Room type page</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>displayLeftColumnProduct</td> <td>Call this hook right before the &quot;Print&quot; link, under the picture.</td> <td>N/A</td></tr> <tr><td>displayRightColumnProduct</td> <td>Call this hook right after the block for the &quot;Add to Cart&quot; button.</td> <td>N/A</td></tr> <tr><td>displayProductButtons</td> <td>Call this hook inside the block for the &quot;Add to Cart&quot; button, right after that button.</td> <td>N/A</td></tr> <tr><td>actionProductOutOfStock</td> <td>Call this hook inside the block for the &quot;Add to Cart&quot; button, right after the &quot;Availability&quot; information.</td> <td>N/A</td></tr> <tr><td>displayFooterProduct</td> <td>Call this hook right before the tabs.</td> <td>N/A</td></tr> <tr><td>displayProductTab</td> <td>Call this hook in tabs list, such as &quot;More info&quot;, &quot;Data sheet&quot;, &quot;Accessories&quot;, etc.</td> <td>N/A</td></tr> <tr><td>displayProductTabContent</td> <td>Call this hook when a tab is clicked.</td> <td><code>array(</code> <br> <code>'product' =&gt; (object) Product object</code> <br> <code>);</code></td></tr></tbody></table> <h4 id="cart-page"><a href="#cart-page" class="header-anchor">#</a> Cart page</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>actionCartSave</td> <td>Call this hook right after a cart creation or update.</td> <td>N/A</td></tr> <tr><td>displayShoppingCartFooter</td> <td>Called right below the cart items table.</td> <td><code>array(</code> <br> <code>'delivery' =&gt; $delivery,</code> <br> <code>'delivery_state' =&gt; State::getNameById($delivery-&gt;id_state),</code><br> <code>'invoice' =&gt; $invoice,</code> <br> <code>'invoice_state' =&gt; State::getNameById($invoice-&gt;id_state),</code> <br><code>'formattedAddresses' =&gt; $formatted_addresses,</code> <br> <code>'products' =&gt; array_values($products),</code> <br> <code>'gift_products' =&gt; $gift_products,</code> <br><code>'discounts' =&gt; $cart_rules,</code> <br> <code>'is_virtual_cart' =&gt; (int)$this-&gt;isVirtualCart(),</code> <br> <code>'total_discounts' =&gt; $total_discounts,</code> <br> <code>'total_discounts_tax_exc' =&gt; $total_discounts_tax_exc,</code><br> <code>'total_wrapping' =&gt; $this-&gt;getOrderTotal(true, Cart::ONLY_WRAPPING),</code><br> <code>'total_wrapping_tax_exc' =&gt; $this-&gt;getOrderTotal(false, Cart::ONLY_WRAPPING),</code><br> <code>'total_shipping' =&gt; $total_shipping,</code><br><code>'total_shipping_tax_exc' =&gt; $total_shipping_tax_exc,</code><br> <code>'total_products_wt' =&gt; $total_products_wt,</code><br><code>'total_products' =&gt; $total_products,</code><br> <code>'total_price' =&gt; $base_total_tax_inc,</code><br> <code>'total_tax' =&gt; $total_tax,</code><br><code>'total_price_without_tax' =&gt; $base_total_tax_exc,</code><br> <code>'is_multi_address_delivery' =&gt; $this-&gt;isMultiAddressDelivery() || ((int)Tools::getValue('multi-shipping') == 1),</code><br><code>'free_ship' =&gt; $total_shipping ? 0 : 1,</code><br><code>'carrier' =&gt; new Carrier($this-&gt;id_carrier, $id_lang),</code><br>); <br>Can be found in /classes/Cart.php</td></tr> <tr><td>displayShoppingCart</td> <td>Called after the cart's table of items, right above the navigation buttons.</td> <td><code>array(</code><br> <code>'delivery' =&gt; $delivery,</code><br> <code>'delivery_state' =&gt; State::getNameById($delivery-&gt;id_state),</code><br> <code>'invoice' &gt; $invoice,</code><br> <code>'invoice_state' =&gt; State::getNameById($invoice-&gt;id_state),</code><br> <code>'formattedAddresses' =&gt; formatted_addresses,</code><br> <code>'products' =&gt; array_values($products),</code><br> <code>'gift_products' =&gt; $gift_products,</code><br> <code>'discounts' =&gt; $cart_rules,</code><br> <code>'is_virtual_cart' =&gt; (int)$this-&gt;isVirtualCart(),</code><br> <code>'total_discounts' =&gt; $total_discounts,</code><br> <code>'total_discounts_tax_exc' =&gt; $total_discounts_tax_exc,</code><br> <code>'total_wrapping' =&gt; $this-&gt;getOrderTotal(true, Cart::ONLY_WRAPPING),</code><br> <code>'total_wrapping_tax_exc' =&gt; $this-&gt;getOrderTotal(false, Cart::ONLY_WRAPPING),</code><br> <code>'total_shipping' =&gt; $total_shipping,</code><br> <code>'total_shipping_tax_exc' =&gt; $total_shipping_tax_exc,</code><br> <code>'total_products_wt' =&gt; $total_products_wt,</code><br> <code>'total_products' =&gt; $total_products,</code><br> <code>'total_price' =&gt; $base_total_tax_inc,</code><br> <code>'total_tax' =&gt; $total_tax,</code><br> <code>'total_price_without_tax' =&gt; $base_total_tax_exc,</code><br> <code>'is_multi_address_delivery' =&gt; $this-&gt;isMultiAddressDelivery() || ((int)Tools::getValue('multi-shipping') == 1),</code><br> <code>'free_ship' =&gt; $total_shipping ? 0 : 1,</code><br> <code>'carrier' =&gt; new Carrier($this-&gt;id_carrier, $id_lang),</code><br>); <br> Can be found in /classes/Cart.php</td></tr> <tr><td>displayCustomerAccountFormTop</td> <td>Called within the client account creation form, right above the &quot;Your personal information&quot; block.</td> <td>N/A</td></tr> <tr><td>displayCustomerAccountForm</td> <td>Called within the client account creation form, right before the &quot;Register&quot; button.</td> <td>N/A</td></tr> <tr><td>actionCustomerAccountAdd</td> <td>Called right after the client account creation.</td> <td>N/A</td></tr> <tr><td>displayCustomerAccount</td> <td>Called on the client account homepage, after the list of available links. Ideal location to add a link to this list.</td> <td>N/A</td></tr> <tr><td>displayMyAccountBlock</td> <td>Called within the &quot;My account&quot; block, in the left column, below the list of available links. This is the ideal location to add a link to this list.</td> <td>N/A</td></tr> <tr><td>displayMyAccountBlockfooter</td> <td>Displays extra information inside the &quot;My account&quot; block.</td> <td>N/A</td></tr> <tr><td>actionAuthentication</td> <td>Called right after the client identification, only if the authentication is valid (e-mail address and password are both OK).</td> <td>N/A</td></tr> <tr><td>actionBeforeAuthentication</td> <td>Called right before authentication.</td> <td>N/A</td></tr></tbody></table> <h4 id="search-page"><a href="#search-page" class="header-anchor">#</a> Search page</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>actionSearch</td> <td>Call after a search is performed. Ideal location to parse and/or handle the search query and results.</td> <td><code>array(</code> <br> <code>'expr' =&gt; (string) Search query,</code> <br> <code>'total' =&gt; (int) Amount of search results</code> <br> <code>);</code></td></tr></tbody></table> <h4 id="mobile-theme-hooks"><a href="#mobile-theme-hooks" class="header-anchor">#</a> Mobile theme hooks</h4> <p>The hooks discussed in this section are specific to QloApps default mobile theme.</p> <p>The first four hooks in the list are in QloApps' internal hooks database, so the user can attach an action/interface to these hooks using the Modules &gt; Positions page.
All the other hooks  does not exist in the the internal hooks database  but are there in the mobile theme TPL files. Although the developer can still use them to attach content to specific part of the code.</p> <p>Here is the list</p> <ul><li>displayMobileTopSiteMap</li> <li>displayMobileHeader</li> <li>displayMobileShoppingCartTop</li> <li>displayMobileAddToCartTop</li> <li>displayMobileShoppingCartTop</li> <li>displayMobileShoppingCartBottom</li> <li>displayMobileTopSiteMap</li> <li>displayMobileFooterChoice</li> <li>displayMobileShoppingCartTop</li> <li>displayMobileShoppingCartBottom</li> <li>displayMobileIndex</li> <li>mobileCustomerAccount</li> <li>displayMobileTop</li> <li>displayMobileAddToCartTop</li> <li>displayMobileShoppingCartTop</li> <li>displayMobileShoppingCartButton</li> <li>displayMobileShoppingCartBottom</li> <li>displayMobileShoppingCartTop</li> <li>displayMobileShoppingCartBottom</li></ul> <h3 id="back-office-hooks"><a href="#back-office-hooks" class="header-anchor">#</a> Back office hooks</h3> <h4 id="general-hooks"><a href="#general-hooks" class="header-anchor">#</a> General Hooks</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>displayBackOfficeFooter</td> <td>Call this hook within the page footer, above the &quot;Power By Webkul&quot; line.</td> <td>N/A</td></tr> <tr><td>displayBackOfficeHeader</td> <td>Call this hook between the HEAD tags. This is the ideal location for adding JavaScript and CSS files.</td> <td>N/A</td></tr> <tr><td>displayBackOfficeHome</td> <td>Call this hook at the center of the homepage.</td> <td>N/A</td></tr> <tr><td>displayBackOfficeTop</td> <td>Call this hook within the header, above the tabs.</td> <td>N/A</td></tr></tbody></table> <h4 id="orders-and-order-details"><a href="#orders-and-order-details" class="header-anchor">#</a> Orders and order details</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>actionValidateOrder</td> <td>Called during the new order creation process, right after it has been created.</td> <td><code>array(</code> <br> <code>'cart' =&gt; (object) Cart object,</code> <br> <code>'order' =&gt; (object) Order object,</code> <br> <code>'customer' =&gt; (object) Customer object,</code> <br> <code>'currency' =&gt; (object) Currency object,</code> <br> <code>'orderStatus' =&gt; (object) OrderState object</code> <br> <code>);</code></td></tr> <tr><td>actionPaymentConfirmation</td> <td>Called when an order's status becomes &quot;Payment accepted&quot;.</td> <td><code>array(</code> <br> <code>'id_order' =&gt; (int) Order ID</code> <br> <code>);</code></td></tr> <tr><td>actionOrderStatusUpdate</td> <td>Called when an order's status is changed, right before it is actually changed.</td> <td><code>array(</code> <br> <code>'newOrderStatus' =&gt; (object) OrderState object,</code> <br> <code>'id_order' =&gt; (int) Order ID</code> <br> <code>);</code></td></tr> <tr><td>actionOrderStatusPostUpdate</td> <td>Called when an order's status is changed, right after it is actually changed.</td> <td><code>array(</code> <br> <code>'newOrderStatus' =&gt; (object) OrderState object,</code> <br> <code>'id_order' =&gt; (int) Order ID</code> <br> <code>);</code></td></tr> <tr><td>actionProductCancel</td> <td>Called when an item is deleted from an order, right after the deletion.</td> <td><code>array(</code> <br> <code>'order' =&gt; (object) Order object,</code> <br> <code>'id_order_detail' =&gt; (int) Order Detail ID</code> <br> <code>);</code></td></tr> <tr><td>displayInvoice</td> <td>Called when the order's details are displayed, above the Client Information block.</td> <td>N/A</td></tr> <tr><td>displayAdminOrder</td> <td>Called when the order's details are displayed, below the Client Information block.</td> <td><code>array(</code> <br> <span><code>'id_order' = (int) Order ID</code> <br> <code>);</code></span></td></tr> <tr><td>actionOrderSlipAdd</td> <td>Called during the creation of a credit note, right after it has been created.</td> <td><code>array(</code> <br> <code>'order' =&gt; Order oject,</code> <br> <code>'productList' =&gt; array(</code> <br> <code>(int) product ID 1,</code> <br> <code>(int) product ID 2,</code> <br> <code>...,</code> <br> <code>(int) product ID n</code> <br> <code>),</code> <br> <code>'qtyList' =&gt; array(</code> <br> <code>(int) quantity 1,</code> <br> <code>(int) quantity 2,</code> <br> <code>...,</code> <br> <code>(int) quantity n</code> <br> <code>)</code> <br> <code>);</code> <br> The order of IDs and quantities is important!</td></tr></tbody></table> <h4 id="products"><a href="#products" class="header-anchor">#</a> Products</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>actionProductSave</td> <td>Called when saving products.</td> <td><code>array(</code> <br> <code>'id_product' =&gt; (int) Product ID</code> <br> <code>);</code></td></tr> <tr><td>actionUpdateQuantity</td> <td>Called during an the validation of an order, the status of which being something other than &quot;canceled&quot; or &quot;Payment error&quot;, for each of the order's items.</td> <td><code>array(</code> <br> <code>'id_product' =&gt; (int) Product ID,</code> <br> <code>'id_product_attribute' =&gt; (int) Product attribute ID,</code> <br> <code>'quantity' =&gt; (int) New product quantity</code> <br> <code>);</code></td></tr> <tr><td>actionProductAttributeUpdate</td> <td>When product declination is updated, right after said update the hook is called.</td> <td><code>array(</code> <br> <code>'id_product_attribute' =&gt; (int) Product attribute ID</code> <br> <code>);</code></td></tr> <tr><td>actionProductAttributeDelete</td> <td>Called when a product declination is deleted.</td> <td><code>array(</code> <br> <code>'product' =&gt; (object)</code> <br> <code>Product object</code> <br> <code>);</code></td></tr> <tr><td>actionWatermark</td> <td>Called when an image is added to a product, right after said addition.</td> <td><code>array(</code> <br> <code>'id_image' =&gt;</code> <br> <code>(int) Image ID,</code> <br> <code>'id_product' =&gt; (int) Product ID</code> <br> <code>);</code></td></tr> <tr><td>displayAttributeForm</td> <td>Add fields to the form &quot;attribute value&quot;.</td> <td>N/A</td></tr> <tr><td>displayAttributeGroupForm</td> <td>Add fields to the form &quot;attribute group&quot;.</td> <td>N/A</td></tr> <tr><td>displayAttributeGroupPostProcess</td> <td>Called when post-process in admin attribute group.</td> <td>N/A</td></tr> <tr><td>displayFeatureForm</td> <td>Add fields to the form &quot;feature&quot;.</td> <td>N/A</td></tr> <tr><td>displayFeaturePostProcess</td> <td>Called when post-process in admin feature.</td> <td>N/A</td></tr> <tr><td>displayFeatureValueForm</td> <td>Add fields to the form &quot;feature value&quot;.</td> <td>N/A</td></tr> <tr><td>displayFeatureValuePostProcess</td> <td>Called when post-process in admin feature value.</td> <td>N/A</td></tr></tbody></table> <h4 id="statistics"><a href="#statistics" class="header-anchor">#</a> Statistics</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>displayAdminStatsGraphEngine</td> <td>Called when a stats graph is displayed.</td> <td>N/A</td></tr> <tr><td>displayAdminStatsGridEngine</td> <td>Called when the grid of stats is displayed.</td> <td>N/A</td></tr> <tr><td>displayAdminStatsModules</td> <td>Called when the list of stats modules is displayed.</td> <td>N/A</td></tr></tbody></table> <h4 id="clients"><a href="#clients" class="header-anchor">#</a> Clients</h4> <table><thead><tr><th>Hook Name</th> <th>Description</th> <th>Anticipation in $param (Psuedocode)</th></tr></thead> <tbody><tr><td>displayAdminCustomers</td> <td>Called when a client's details are displayed, right after the list of the clients groups the current client belongs to.</td> <td>N/A</td></tr></tbody></table> <h2 id="managing-hooks"><a href="#managing-hooks" class="header-anchor">#</a> Managing Hooks</h2> <p>In QloApps, you can associate your content and actions to some specific QloApps events thorugh Hooks.</p> <p>There are two types of hooks in QloApps</p> <ul><li>Display hooks</li> <li>Action hooks</li></ul> <p><strong>Display Hooks</strong> are used to insert content in a page.</p> <p>Below are some hooks which can add content on the home page.</p> <table><thead><tr><th style="text-align:left;">Hook</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">displayHeader</td> <td style="text-align:left;">Displays the content in the page's header.</td></tr> <tr><td style="text-align:left;">displayTop</td> <td style="text-align:left;">Displays the content in the page's top.</td></tr> <tr><td style="text-align:left;">displayLeftColumn</td> <td style="text-align:left;">Displays the content in the page's left column.</td></tr> <tr><td style="text-align:left;">displayHome</td> <td style="text-align:left;">Displays the content in the page's central.</td></tr> <tr><td style="text-align:left;">displayRightColumn</td> <td style="text-align:left;">Displays the content in the page's right column.</td></tr> <tr><td style="text-align:left;">displayFooter</td> <td style="text-align:left;">Displays the content in the page's footer.</td></tr></tbody></table> <p><strong>Action Hooks</strong> are used to execute some actions before/after any QloApps event.
For example : delete some specific customer related data before deleting customer from QloApps.</p> <h4 id="how-to-use-hooks-in-a-controller"><a href="#how-to-use-hooks-in-a-controller" class="header-anchor">#</a> How to use Hooks in a controller?</h4> <p>To use it in a controller, Call the hookExec() method with the name of the hook.
Module::hookExec('Hook_Name');</p> <p>See the below example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">context</span><span class="token operator">-&gt;</span><span class="token property">smarty</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'HOOK_TOP'</span><span class="token punctuation">,</span> <span class="token class-name static-context">Module</span><span class="token operator">::</span><span class="token function">hookExec</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'displayTop'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="how-to-use-hooks-in-a-module"><a href="#how-to-use-hooks-in-a-module" class="header-anchor">#</a> How to use Hooks in a module?</h4> <p>In a module, to add your code, create a non-static public method which name starts with &quot;hook&quot; keyword.</p> <p>To add your code to a hook, you must create a non-static public method, starting with the &quot;hook&quot; keyword followed by the name of the hook to use. Only one argument (array of the contextual information) is recievd by this method.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">hookDisplayHookName</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// write your code</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The hook must be registered using the registerHook() method for module to respond. Registration is done usually during the installation of module.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">registerHook</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hook_Name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="how-to-use-hooks-in-a-theme"><a href="#how-to-use-hooks-in-a-theme" class="header-anchor">#</a> How to use Hooks in a theme?</h4> <p>In a template file(.tpl), write the name of the hook with the hook function. You can add the module's name that you want the hook execute.</p> <p>See the below example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">{</span>hook h<span class="token operator">=</span><span class="token string single-quoted-string">'displayRightColumn'</span> mod<span class="token operator">=</span><span class="token string single-quoted-string">'moduleName'</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="how-to-create-your-own-hook"><a href="#how-to-create-your-own-hook" class="header-anchor">#</a> How to create your own hook?</h4> <p>To add a new QloApps hook, add a new record in the <strong>ps_hook</strong> table in the database.</p> <p>You can do it by below query -</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token string backtick-quoted-string">`ps_hook`</span> <span class="token punctuation">(</span><span class="token string backtick-quoted-string">`name`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">`title`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">`description`</span><span class="token punctuation">)</span> <span class="token function">VALUES </span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hook_Name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'your hook name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'your hook description'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>But and easy method is provided by the QloApps -</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">registerHook</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'HookName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If hook name does not exist in the system the QloApps will create a new hook.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Qloapps/qloapps-docs/edit/master/docs/helpers/hooks.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/7/2021, 1:19:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/helpers/email.html" class="prev">
        Email
      </a></span> <span class="next"><a href="/module_development/folder-structure.html">
        Folder Structure
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ad2c750c.js" defer></script><script src="/assets/js/2.f0358b9a.js" defer></script><script src="/assets/js/7.21340e8c.js" defer></script>
  </body>
</html>
